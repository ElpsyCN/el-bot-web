(window.webpackJsonp=window.webpackJsonp||[]).push([[18,8,9,10,12,15],{422:function(t,e,r){"use strict";r.r(e);r(20);var n=r(164),o={props:{id:{type:Number,default:0},type:{type:String,default:"qq"},size:{type:Number,default:100}},computed:{img:function(){return Object(n.a)(this.id,this.type,this.size)}}},l=r(55),c=r(75),d=r.n(c),v=r(129),m=r(153),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-list-item-avatar",[r("v-img",{attrs:{src:t.img}})],1)}),[],!1,null,null,null);e.default=component.exports;d()(component,{VImg:v.a,VListItemAvatar:m.a})},435:function(t,e,r){"use strict";r.r(e);var n={data:function(){return{dialog:!1,url:""}},methods:{sendImageMessageByUrl:function(){this.$store.state.messages.target?(this.$store.dispatch("messages/image/send",[this.url]),this.dialog=!1):this.$toast.error("您这图要发给谁？")}}},o=r(55),l=r(75),c=r.n(l),d=r(177),v=r(415),m=r(414),f=r(473),_=r(474),h=r(100),y=r(66),O=r(476),V=r(412),x=r(449),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-list-item",t._g({},n),[r("v-list-item-title",[t._v("发送图片消息（通过链接）")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[t._v("图片链接")])]),t._v(" "),r("v-card-text",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{label:"链接","hide-details":"",required:""},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}})],1)],1)],1),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{text:""},on:{click:function(e){t.dialog=!1}}},[t._v("关闭")]),t._v(" "),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.sendImageMessageByUrl}},[t._v("\n        发送\n      ")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VBtn:d.a,VCard:v.a,VCardActions:m.a,VCardText:m.b,VCardTitle:m.c,VCol:f.a,VDialog:_.a,VListItem:h.a,VListItemTitle:y.b,VRow:O.a,VSpacer:V.a,VTextField:x.a})},436:function(t,e,r){"use strict";r.r(e);var n=r(4),o=(r(36),{data:function(){return{dialog:!1,img:null,type:"group"}},methods:{uploadImage:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var form;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(form=new FormData).append("sessionKey",t.$store.state.auth.sessionKey),form.append("type",t.type),form.append("img",t.img),e.next=6,t.$store.dispatch("messages/image/upload",form);case 6:t.dialog=!1;case 7:case"end":return e.stop()}}),e)})))()}}}),l=r(55),c=r(75),d=r.n(c),v=r(177),m=r(415),f=r(414),_=r(473),h=r(474),y=r(536),O=r(100),V=r(66),x=r(525),I=r(526),j=r(476),w=r(412),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-list-item",t._g({},n),[r("v-list-item-title",[t._v("上传图片")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[t._v("上传图片")])]),t._v(" "),r("v-card-text",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-file-input",{attrs:{accept:"image/*","show-size":"",clearable:"",label:"来点色图？","hide-details":"","prepend-icon":"$mdiImage"},model:{value:t.img,callback:function(e){t.img=e},expression:"img"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-radio-group",{attrs:{row:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[r("v-radio",{attrs:{label:"群",value:"group"}}),t._v(" "),r("v-radio",{attrs:{label:"好友",value:"friend"}}),t._v(" "),r("v-radio",{attrs:{label:"临时",value:"temp"}})],1)],1)],1)],1),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{text:""},on:{click:function(e){t.dialog=!1}}},[t._v("关闭")]),t._v(" "),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.uploadImage}},[t._v(" 发送 ")])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;d()(component,{VBtn:v.a,VCard:m.a,VCardActions:f.a,VCardText:f.b,VCardTitle:f.c,VCol:_.a,VDialog:h.a,VFileInput:y.a,VListItem:O.a,VListItemTitle:V.b,VRadio:x.a,VRadioGroup:I.a,VRow:j.a,VSpacer:w.a})},437:function(t,e,r){"use strict";r.r(e);r(7),r(5),r(6),r(10),r(11);var n=r(2),o=r(88);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={computed:c(c({},Object(o.b)("messages/image",["uploadInfo"])),{},{dialog:{get:function(){return this.$store.state.messages.image.dialog},set:function(t){this.$store.commit("messages/image/setDialog",t)}}})},v=r(55),m=r(75),f=r.n(m),_=r(177),h=r(415),y=r(414),O=r(474),V=r(478),x=r(412),I=r(449),component=Object(v.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{"max-width":"600",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-card-title",[t._v(" 图片上传信息 ")]),t._v(" "),r("v-card-text",[r("v-form",{ref:"form"},[r("v-text-field",{attrs:{label:"ID",disabled:""},model:{value:t.uploadInfo.imageId,callback:function(e){t.$set(t.uploadInfo,"imageId",e)},expression:"uploadInfo.imageId"}}),t._v(" "),r("v-text-field",{attrs:{label:"路径",disabled:""},model:{value:t.uploadInfo.path,callback:function(e){t.$set(t.uploadInfo,"path",e)},expression:"uploadInfo.path"}}),t._v(" "),r("v-text-field",{attrs:{label:"链接",disabled:""},model:{value:t.uploadInfo.url,callback:function(e){t.$set(t.uploadInfo,"url",e)},expression:"uploadInfo.url"}})],1)],1),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" 关闭 ")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;f()(component,{VBtn:_.a,VCard:h.a,VCardActions:y.a,VCardText:y.b,VCardTitle:y.c,VDialog:O.a,VForm:V.a,VSpacer:x.a,VTextField:I.a})},439:function(t,e,r){var content=r(456);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(14).default)("6f0afc42",content,!0,{sourceMap:!1})},446:function(t,e,r){"use strict";r.r(e);r(7),r(5),r(6),r(10),r(11);var n=r(2),o=r(88);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var c={components:{ItemAvatar:r(422).default},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(o.b)("friends",["list"])),mounted:function(){this.$store.dispatch("friends/get")},methods:{setTarget:function(t){this.$store.commit("messages/setType","friend"),this.$store.commit("messages/setTarget",t)}}},d=r(55),v=r(75),m=r.n(v),f=r(100),_=r(66),h=r(155),y=r(84),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-list-item-group",{attrs:{color:"primary"}},t._l(t.list,(function(e){return r("v-list-item",{key:e.id,on:{click:function(r){return t.setTarget(e.id)}}},[r("item-avatar",{attrs:{id:e.id,type:"qq"}}),t._v(" "),r("v-list-item-content",[r("v-list-item-title",{attrs:{title:e.id},domProps:{textContent:t._s(e.nickname)}})],1),t._v(" "),r("v-list-item-icon",[r("v-list-item-title",{domProps:{textContent:t._s(e.remark)}})],1)],1)})),1)}),[],!1,null,null,null);e.default=component.exports;m()(component,{VListItem:f.a,VListItemContent:_.a,VListItemGroup:h.a,VListItemIcon:y.a,VListItemTitle:_.b})},447:function(t,e,r){"use strict";r.r(e);r(7),r(5),r(6),r(10),r(11);var n=r(2),o=r(88);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var c={components:{ItemAvatar:r(422).default},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(o.b)("groups",["list"])),mounted:function(){this.$store.dispatch("groups/get")},methods:{setTarget:function(t){this.$store.commit("messages/setType","group"),this.$store.commit("messages/setTarget",t)},getColorByPermission:function(t){var e="gray";switch(t){case"OWNER":e="orange";break;case"ADMINISTRATOR":e="green";break;case"MEMBER":e="gray"}return e},getRoleByPermission:function(t){var e="gray";switch(t){case"OWNER":e="裙主";break;case"ADMINISTRATOR":e="🐶管理";break;case"MEMBER":e="人民群众"}return e}}},d=r(55),v=r(75),m=r.n(v),f=r(150),_=r(100),h=r(66),y=r(155),O=r(84),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-list-item-group",{attrs:{color:"primary"}},t._l(t.list,(function(e){return r("v-list-item",{key:e.id,on:{click:function(r){return t.setTarget(e.id)}}},[r("item-avatar",{attrs:{id:e.id,type:"group"}}),t._v(" "),r("v-list-item-content",[r("v-list-item-title",{attrs:{title:e.id},domProps:{textContent:t._s(e.name)}})],1),t._v(" "),r("v-list-item-icon",[r("v-icon",{attrs:{color:t.getColorByPermission(e.permission),title:t.getRoleByPermission(e.permission)}},[t._v("\n        $mdiAccount\n      ")])],1)],1)})),1)}),[],!1,null,null,null);e.default=component.exports;m()(component,{VIcon:f.a,VListItem:_.a,VListItemContent:h.a,VListItemGroup:y.a,VListItemIcon:O.a,VListItemTitle:h.b})},448:function(t,e,r){"use strict";r.r(e);var n=r(435),o=r(436),l=r(437),c={components:{SendImageByUrl:n.default,UploadImage:o.default,UploadImageInfo:l.default}},d=r(55),v=r(75),m=r.n(v),f=r(177),_=r(150),h=r(151),y=r(537),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-menu",{attrs:{top:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({attrs:{icon:"",color:"primary",title:"发送图片"}},n),[r("v-icon",[t._v("$vuetify.icons.mdiImage")])],1)]}}])},[t._v(" "),r("v-list",{attrs:{dense:""}},[r("send-image-by-url"),t._v(" "),r("upload-image")],1)],1),t._v(" "),r("upload-image-info")],1)}),[],!1,null,null,null);e.default=component.exports;m()(component,{VBtn:f.a,VIcon:_.a,VList:h.a,VMenu:y.a})},455:function(t,e,r){"use strict";r(439)},456:function(t,e,r){var n=r(13)(!1);n.push([t.i,".message-list-container{display:flex;align-items:flex-end;overflow-y:auto}.message-item,.message-list-container{justify-content:flex-end}",""]),t.exports=n},468:function(t,e,r){"use strict";r.r(e);var n=r(446),o=r(447),l={components:{FriendList:n.default,GroupList:o.default},data:function(){return{listName:"列表",switch:!1,activePanel:"groups"}}},c=r(55),d=r(75),v=r.n(d),m=r(520),f=r(177),_=r(415),h=r(150),y=r(151),O=r(412),V=r(40),x=r(176),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{attrs:{outlined:""}},[r("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[r("v-toolbar-title",[t._v(t._s(t.listName))]),t._v(" "),r("v-spacer"),t._v(" "),r("v-btn",{attrs:{icon:""}},[r("v-icon",[t._v("$mdiMagnify")])],1)],1),t._v(" "),r("v-list",{staticClass:"py-0",staticStyle:{overflow:"auto"},attrs:{height:"74vh"}},["friends"===t.activePanel?r("friend-list"):t._e(),t._v(" "),"groups"===t.activePanel?r("group-list"):t._e()],1),t._v(" "),r("v-bottom-navigation",{staticStyle:{"box-shadow":"none"},attrs:{shift:"",grow:"",color:"primary"},model:{value:t.activePanel,callback:function(e){t.activePanel=e},expression:"activePanel"}},[r("v-btn",{attrs:{value:"friends"}},[r("span",[t._v("好友列表")]),t._v(" "),r("v-icon",[t._v("$mdiAccount")])],1),t._v(" "),r("v-btn",{attrs:{value:"groups"}},[r("span",[t._v("群列表")]),t._v(" "),r("v-icon",[t._v("$mdiAccountMultiple")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;v()(component,{VBottomNavigation:m.a,VBtn:f.a,VCard:_.a,VIcon:h.a,VList:y.a,VSpacer:O.a,VToolbar:V.a,VToolbarTitle:x.a})},469:function(t,e,r){"use strict";r.r(e);var n={methods:{getAvatarById:r(164).a}},o=(r(455),r(55)),l=r(75),c=r.n(l),d=r(154),v=r(177),m=r(415),f=r(414),_=r(485),h=r(486),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{staticClass:"message-list-container",attrs:{outlined:"",height:"55vh"}},[r("v-timeline",{staticStyle:{height:"55vh",overflow:"auto"},attrs:{dense:"","align-top":"",reverse:""}},t._l(t.$store.state.messages.list.slice(),(function(e,i){return r("v-timeline-item",{key:i,staticClass:"message-item",scopedSlots:t._u([{key:"icon",fn:function(){return[r("v-avatar",{attrs:{size:"40"}},[r("img",{attrs:{src:t.getAvatarById(t.$store.state.auth.qq,"qq",100)}})])]},proxy:!0},{key:"opposite",fn:function(){return[r("span",[t._v(t._s(e.sender.id))])]},proxy:!0}],null,!0)},[t._v(" "),t._v(" "),e.messageChain?r("v-card",[r("v-card-text",[t._v(t._s(e.messageChain[0].text))]),t._v(" "),r("v-card-actions",{staticClass:"justify-end"},[r("v-btn",{attrs:{small:""},on:{click:function(r){return t.$store.dispatch("messages/recall",e.id)}}},[t._v("\n            撤回\n          ")])],1)],1):t._e()],1)})),1)],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VAvatar:d.a,VBtn:v.a,VCard:m.a,VCardActions:f.a,VCardText:f.b,VTimeline:_.a,VTimelineItem:h.a})},479:function(t,e,r){"use strict";r.r(e);var n={components:{SendImageMessage:r(448).default},data:function(){return{valid:!1,dialog:!1}},computed:{message:{get:function(){return this.$store.state.messages.message},set:function(t){this.$store.commit("messages/setMessage",t)}}},methods:{sendMessage:function(){this.message&&this.$store.dispatch("messages/send")}}},o=r(55),l=r(75),c=r.n(l),d=r(177),v=r(473),m=r(478),f=r(476),_=r(508),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-row",{attrs:{dense:""}},[r("v-col",{attrs:{cols:"12"}},[r("send-image-message")],1)],1),t._v(" "),r("v-form",{ref:"form",staticClass:"text-right"},[r("v-textarea",{attrs:{outlined:"",name:"message",placeholder:"想 BB 些什么？",counter:"",required:""},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}}),t._v(" "),r("v-btn",{attrs:{disabled:!t.message,color:"primary",block:""},on:{click:t.sendMessage}},[t._v("\n      发送\n    ")])],1)],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VBtn:d.a,VCol:v.a,VForm:m.a,VRow:f.a,VTextarea:_.a})},531:function(t,e,r){"use strict";r.r(e);var n=r(468),o=r(469),l=r(479),c={components:{ContactList:n.default,MessageList:o.default,SendMessage:l.default},middleware:"auth",head:{title:"控制台"}},d=r(55),v=r(75),m=r.n(v),f=r(473),_=r(476),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-row",{attrs:{dense:""}},[r("v-col",{attrs:{cols:"12",sm:"3"}},[r("contact-list")],1),t._v(" "),r("v-col",{attrs:{cols:"12",sm:"9"}},[r("v-col",{attrs:{cols:"12"}},[r("message-list"),t._v(" "),r("send-message")],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;m()(component,{ContactList:r(468).default,MessageList:r(469).default}),m()(component,{VCol:f.a,VRow:_.a})}}]);